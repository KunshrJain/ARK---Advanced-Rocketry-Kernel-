# 03 — Build and Run

## Prerequisites

- **CMake** 3.16 or newer
- **C++14** toolchain
- For **Pico**: Raspberry Pi Pico SDK, ARM GCC
- For **ESP32**: ESP-IDF
- For **SIL**: host compiler only (GCC or Clang)


## SIL (Software-in-the-Loop, no hardware)

Runs on your PC. No board needed.

```bash
cd /path/to/ARK
mkdir -p build/sil
cd build/sil
cmake ../.. -DARCH_TARGET=SIL
make -j4
./ARK_Avionics_SIL
```


## Pico

**Option A — CMake**

```bash
cd /path/to/ARK
mkdir -p build/pico
cd build/pico
cmake ../.. -DARCH_TARGET=PICO
make -j4
```

Then copy **ARK_Avionics.uf2** onto the Pico (hold BOOTSEL, plug USB, paste the file).

**Option B — Tools script**

```bash
cd /path/to/ARK/Tools
python3 Build.py pico
```

Binary is written to **Build/UserBuild/ARK_Pico.uf2**. Copy that to the Pico as above.


## ESP32

```bash
cd /path/to/ARK
. $IDF_PATH/export.sh
mkdir -p build/esp32
cd build/esp32
cmake ../.. -DARCH_TARGET=ESP32
idf.py build flash monitor
```


## Config.hpp

- **Config.hpp** at the project root holds system and kernel settings (frequencies, which states are enabled, etc.).
- It can be generated by **Tools/GenerateConfig.py** or edited by hand.
- **User/UserConfig.hpp** holds your flight thresholds (launch accel, burnout time, main deploy altitude, etc.).

Next: [04-user-guide](04-user-guide.md) — what to edit in the User folder.
